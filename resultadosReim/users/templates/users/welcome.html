<!--{% load staticfiles %}-->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-U A-Compatible" content="IE=edge">
    <title>Resultados REIM | Dashboard</title>
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/font-awesome.css' %}" rel="stylesheet">
    <!-- Toastr style -->
    <link href="{% static 'css/plugins/toastr/toastr.min.css' %}" rel="stylesheet">
    <!-- Gritter -->
    <link href="{% static 'css/plugins/gritter/jquery.gritter.css' %}" rel="stylesheet">
    <link href="{% static 'css/animate.css' %}" rel="stylesheet">
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
</head>
<body>
<div id="wrapper">
    <nav class="navbar-default navbar-static-side" role="navigation">
        <div class="sidebar-collapse">
            <ul class="nav metismenu" id="side-menu">
                <li class="nav-header">
                    <div class="dropdown profile-element">
                        <img alt="image" class="rounded-circle" src="{% static 'img/profile_small.jpg' %}"/>
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <span class="block m-t-xs font-bold">{{request.user.first_name}}</span>
                            <span class="text-muted text-xs block">Opciones <b class="caret"></b></span>
                        </a>
                        <ul class="dropdown-menu animated fadeInRight m-t-xs">
                            <li class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="/logout">Cerrar sesi√≥n</a></li>
                        </ul>
                    </div>
                    <div class="logo-element">
                        Reim
                    </div>
                </li>
                <li class="active">
                    <a href="index.html"><i class="fa fa-th-large"></i> <span class="nav-label">Dashboards</span> <span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level">
                        <!--<li class="active"><a href="index.html">Dashboard</a></li>
                        --> </ul>
                </li>
            </ul>
        </div>
    </nav>

    <div id="page-wrapper" class="gray-bg dashbard-1">
        <div class="row  border-bottom white-bg dashboard-header">
            <div class="navbar-header">
                <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i> </a>
                <form role="search" class="navbar-form-custom" action="search_results.html">
                    <div class="form-group">
                        <!--<input type="text" placeholder="Search for something..." class="form-control" name="top-search" id="top-search">-->
                    </div>
                </form>
            </div>
            <div class="col-md-12">
                <div class="inbox float-e-margins">
                    <div class="inbox-title">
                        <div class="selector-colegio" >
                            <form>
                                <div class="row  border-bottom white-bg dashboard-header">
                                    <div class="col-md-3">
                                        <label  class="font-normal">Colegio</label>
                                        <select  onchange = "this.form.submit()" id="school-filter-selector" name="school" class="form-control m-b">
                                            {% if schools|length == 0 or schools|length >= 1 %}
                                            <option value ="0" >Seleccione Colegio</option >
                                            {% endif %}
                                            {% if schools %}
                                            {% for school in schools %}
                                            <option value ={{school.id}}>{{ school.name }}</option >
                                            {% endfor %}
                                            {% endif %}
                                        </select>
                                    </div>

                                    <div  class="col-md-3">
                                        <label class="font-normal">Curso</label>
                                        <select onchange = "this.form.submit()" id="course-filter-selector" name="course" class="form-control m-b">
                                            {% if courses|length == 0 or courses|length >= 1 %}
                                            <option value ="0" >Seleccione Curso</option>
                                            {% endif %}
                                            {% if courses %}
                                            {% for course in courses %}
                                            <option value ={{course.id}}>{{course.name}}</option>
                                            {% endfor %}
                                            {% endif %}
                                        </select>
                                    </div>
                                    <div class="col-md-3">
                                        <label  class="font-normal">Reim</label>
                                        <select onchange="this.form.submit()" id="reim-filter-selector" name="reim" class="form-control m-b">
                                            <!--Para bloquear-->
                                            <!--{% if reims|length <= 1 %}disabled{% endif %}-->
                                            {% if reims|length == 0 or reims|length >= 1 %}
                                            <option value="0">Seleccione Reim</option>
                                            {% endif %}
                                            {% if reims %}
                                            {% for reim in reims %}
                                            <option value={{reim.id}}>{{ reim.name }}</option>
                                            {% endfor %}
                                            {% endif %}
                                        </select>
                                    </div>
                                    <div  class="col-md-3">
                                        <label  class="font-normal">Actividad</label>
                                        <select onchange="this.form.submit()" id="activity-filter-selector" name="activity" class="form-control m-b">
                                            <option value ="0">Seleccione Actividad</option>
                                            {% if activities %}
                                            {% for activity in activities %}
                                            <option value ={{activity.id}}>{{activity.name}}</option>
                                            {% endfor %}
                                            {% endif %}
                                        </select>
                                    </div>
                                    <div  class="col-md-12">
                                        <div  class="ibox float-e-margins">
                                            <div  class="form-group" id="data_5">
                                                <label  class="font-normal">Rango de fecha</label>
                                                <div  class="input-daterange input-group" id="datepicker">
                                                    <span class="input-group-addon">Desde</span>
                                                    <span  class="input-group-addon"><i class="fa fa-calendar"></i></span><input onchange="this.form.submit()" style="width:120" type="text" class="input-sm form-control" name="start" id="start-filter-selector" data-provide="datepicker" data-date-format="dd/mm/yyyy" value="dd/mm/aaaa"/>
                                                    <span class="input-group-addon">Hasta</span>
                                                    <span class="input-group-addon"><i class="fa fa-calendar"></i></span><input onchange="this.form.submit()" style="width:120px" type="text" class="input-sm form-control" name="end" id="end-filter-selector" data-provide="datepicker" data-date-format="dd/mm/yyyy" value="dd/mm/aaaa"/>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div  class="col-md-4">
                                        <label  class="font-normal">Alumno</label>
                                        <select onchange="this.form.submit()" id="student-filter-selector" name="student" class="form-control m-b">
                                            <option value ="0">Seleccione Alumno</option>
                                            {% if students %}
                                            {% for student in students %}
                                            <option value ={{student.id}}>{{student.name}}</option>
                                            {% endfor %}
                                            {% endif %}
                                        </select>
                                    </div>
                                    <p class="col-lg-12">
                                        <button class="btn btn-sm btn-primary m-t-n-xs float-right"><i class="fa fa-filter"></i> Filtrar</button>
                                        <a href="/" class="btn btn-sm btn-secondary m-t-n-xs float-right" style="margin-right: 5px"><i class="fa fa-trash"></i> Limpiar</a>
                                    </p>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% if reim_num == '2' %}
        <div class="wrapper wrapper-content">
            <!--CREACION -->
            {% if activity_num == '9'%}
            <div class="row">
                <div class="col-lg-12">
                    <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                        <div class="col-lg-6">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>Tiempo de juego total de la actividad</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="stacked" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="ibox">
                                <div class="ibox-title">
                                    <h5>Elementos totales creados</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="horizontalBar" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                <div class="col-lg-12">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>Actividades completadas vs no completadas</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="CreacionVS" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>Elementos desplazados en el menu principal</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="Desplazados" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            <!--LABERINTO -->
            {% if activity_num == '10' %}
            <div class="row">
                <div class="col-lg-12">
                    <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                        <div class="col-lg-6">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>Tiempo de juego total de la actividad</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="stacked" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="ibox">
                                <div class="ibox-title">
                                    <h5>Colisiones</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="horizontalBar" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                <div class="col-lg-12">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>Actividades completadas vs no completadas</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="stacked2" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            <!--ALTERNATIVAS -->
            {% if activity_num == '11' %}
            <div class="row">
                <div class="col-lg-12">
                    <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                        <div class="col-lg-6">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>Tiempo de juego total de la actividad</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="stacked" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="ibox">
                                <div class="ibox-title">
                                    <h5>Correctas vs Incorrectas</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="stacked2" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                <div class="col-lg-12">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>Actividades completadas vs no completadas</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="horizontalBar" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>Saltos realizados</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="movePS" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            <!--BUSCA -->
            {% if activity_num == '12' %}
            <div class="row">
                <div class="col-lg-12">
                    <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                        <div class="col-lg-6">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>Tiempo de juego total de la actividad</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="stacked" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="ibox">
                                <div class="ibox-title">
                                    <h5>Correctas vs Incorrectas</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="horizontalBar" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                <div class="col-lg-12">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>Actividades completadas vs no completadas</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="stacked2" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            <!--CUIDA -->
            {% if activity_num == '13' %}
            <div class="row">
                <div class="col-lg-12">
                    <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                        <div class="col-lg-6">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>Tiempo de juego total de la actividad</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="stacked" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="ibox">
                                <div class="ibox-title">
                                    <h5>Meteoritos totales eliminados</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="horizontalBar" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                <div class="col-lg-12">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>Actividades completadas vs no completadas</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="stacked2" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            <!--PUZZLE -->
            {% if activity_num == '14' %}
            <div class="row">
                <div class="col-lg-12">
                    <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                        <div class="col-lg-6">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>Tiempo de juego total de la actividad</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="stacked" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="ibox">
                                <div class="ibox-title">
                                    <h5>Cantidad de touch por alumno</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="horizontalBar" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                <div class="col-lg-12">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>Actividades completadas vs no completadas</h5>
                                    <div class="ibox-tools"></div>
                                </div>
                                <div class="ibox-content">
                                    <div class="scroll_content">
                                        <canvas id="stacked2" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endif %}
            {% endif %}
            <!--Clean Ocean -->
            {% if reim_num == '3' %}
            <div class="wrapper wrapper-content">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                                <div class="col-lg-7">
                                    <div class="ibox ">
                                        <div class="ibox-title">
                                            <h5>Cantidad de correctas e incorrectas por alumno</h5>
                                            <div class="ibox-tools"></div>
                                        </div>
                                        <div class="ibox-content">
                                            <div class="scroll_content">
                                                <canvas id="prueba" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                                <div class="col-lg-7">
                                    <div class="ibox ">
                                        <div class="ibox-title">
                                            <h5>Anal√≠tica</h5>
                                            <div class="ibox-tools"></div>
                                        </div>
                                        <div class="ibox-content">
                                            <div class="scroll_content">
                                                <canvas id="analitics" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                <!--Lancha -->
                    {% if activity_num == '3002' %}
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                                <div class="col-lg-6">
                                    <div class="ibox ">
                                        <div class="ibox-title">
                                            <h5>Numero total de colisiones por alumnos en actividad lancha</h5>
                                            <div class="ibox-tools"></div>
                                        </div>
                                        <div class="ibox-content">
                                            <div class="scroll_content">
                                                <canvas id="colisions" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                <!--Laberinto -->
                    {% if activity_num == '3004' %}
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                                <div class="col-lg-6">
                                    <div class="ibox ">
                                        <div class="ibox-title">
                                            <h5>Numero total de colisiones por alumnos en actividad laberinto</h5>
                                            <div class="ibox-tools"></div>
                                        </div>
                                        <div class="ibox-content">
                                            <div class="scroll_content">
                                                <canvas id="colisions" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                <!--Tesoro -->
                    {% if activity_num == '3005' %}
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                                <div class="col-lg-6">
                                    <div class="ibox ">
                                        <div class="ibox-title">
                                            <h5>Numero total de saltos por alumnos en actividad tesoro</h5>
                                            <div class="ibox-tools"></div>
                                        </div>
                                        <div class="ibox-content">
                                            <div class="scroll_content">
                                                <canvas id="jumps" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    {% endif %}
            <!--Mundo Animal -->
            {% if reim_num == '1' %}
            <div class="wrapper wrapper-content">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                                <div class="col-lg-6">
                                    <div class="ibox ">
                                        <div class="ibox-title">
                                            <h5>Cantidad de correctas e incorrectas por alumno</h5>
                                            <div class="ibox-tools"></div>
                                        </div>
                                        <div class="ibox-content">
                                            <div class="scroll_content">
                                                <canvas id="prueba2" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="ibox">
                                        <div class="ibox-title">
                                            <h5>Animales y su cantidad de veces escogido</h5>
                                            <div class="ibox-tools"></div>
                                        </div>
                                        <div class="ibox-content">
                                            <div class="scroll_content">
                                                <canvas id="animales" height={{cant_animales}}>{% load staticfiles %}</canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                                <div class="col-lg-6">
                                    <div class="ibox ">
                                        <div class="ibox-title">
                                            <h5>Minutos de juego</h5>
                                            <div class="ibox-tools"></div>
                                        </div>
                                        <div class="ibox-content">
                                            <div class="scroll_content">
                                                <canvas id="stacked" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="ibox">
                                        <div class="ibox-title">
                                            <h5>Cantidad de touch por alumno</h5>
                                            <div class="ibox-tools"></div>
                                        </div>
                                        <div class="ibox-content">
                                            <div class="scroll_content">
                                                <canvas id="horizontalBar" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row" {% if not activate_graphics %}style="display: none;"{% endif %}>
                        <div class="col-lg-12">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="ibox ">
                                        <div class="ibox-title">
                                            <h5>Sesiones por alumno</h5>
                                            <div class="ibox-tools"></div>
                                        </div>
                                        <div class="ibox-content">
                                            <div class="scroll_content">
                                                <canvas id="stacked2" height={{cant_usuarios}}>{% load staticfiles %}</canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="ibox ">
                                        <div class="ibox-title">
                                            <h5>Cantidad de touch totales del curso por actividad  </h5>
                                            <div class="ibox-tools"></div>
                                        </div>
                                        <div class="ibox-content">
                                            <div class="scroll_content">
                                                <canvas id="actividades" height={{cant_actividades}}>{% load staticfiles %}</canvas>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endif %}

                <div>
                    <strong>Copyright</strong>  &copy; 2019


                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-link btn-sm" data-toggle="modal" data-target="#queriesModal">
                        queries
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="queriesModal" tabindex="-1" role="dialog" aria-labelledby="queriesModalTitle" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="queriesModalTitle">Generated queries</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <ul>
                                        {% for query in queries %}
                                        <li><strong>{{query.name}}</strong>: {{query.query}}</li>
                                        {% endfor %}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Mainly scripts -->
    <script src="{% static 'js/jquery-3.1.1.min.js' %}"></script>
    <script src="{% static 'js/popper.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.js' %}"></script>
    <script src="{% static 'js/plugins/metisMenu/jquery.metisMenu.js' %}"></script>
    <script src="{% static 'js/plugins/slimscroll/jquery.slimscroll.min.js' %}"></script>
    <!-- Flot -->
    <script src="{% static 'js/plugins/flot/jquery.flot.js' %}"></script>
    <script src="{% static 'js/plugins/flot/jquery.flot.tooltip.min.js' %}"></script>
    <script src="{% static 'js/plugins/flot/jquery.flot.spline.js' %}"></script>
    <script src="{% static 'js/plugins/flot/jquery.flot.resize.js' %}"></script>
    <script src="{% static 'js/plugins/flot/jquery.flot.pie.js' %}"></script>
    <!-- Peity -->
    <script src="{% static 'js/plugins/peity/jquery.peity.min.js' %}"></script>
    <script src="{% static 'js/demo/peity-demo.js' %}"></script>
    <!-- Custom and plugin javascript -->
    <script src="{% static 'js/inspinia.js' %}"></script>
    <script src="{% static 'js/plugins/pace/pace.min.js' %}"></script>
    <!-- jQuery UI -->
    <script src="{% static 'js/plugins/jquery-ui/jquery-ui.min.js' %}"></script>
    <!-- GITTER -->
    <script src="{% static 'js/plugins/gritter/jquery.gritter.min.js' %}"></script>
    <!-- Sparkline -->
    <script src="{% static 'js/plugins/sparkline/jquery.sparkline.min.js' %}"></script>
    <!-- Sparkline demo data  -->
    <script src="{% static 'js/demo/sparkline-demo.js' %}"></script>
    <!-- ChartJS-->
    <script src="{% static 'js/plugins/chartJs/Chart.min.js' %}"></script>
    <!-- Toastr -->
    <script src="{% static 'js/plugins/toastr/toastr.min.js' %}"></script>
    <!-- Date range picker -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

    <script>
        $('.datepicker').datepicker({
        });
    </script>

    <script>
        //TIEMPO DE JUEGO GENERAL
        var stackedData = {
            labels:
                    [
                        {% if game_time %}
        {% for user in game_time %}
        '{{user.name}}',
        {% endfor%}
        {% endif%}
        ],
        datasets: [
            {
                label: "Minutos de juego total",
                backgroundColor: 'rgba(255,203,124,100)',
                borderColor: "rgba(255,187,69,100)",
                pointBorderColor: "#fff",
                data: [
                    {% if game_time %}
            {% for user in game_time %}
        '{{user.time}}',
        {% endfor%}
        {% endif%}
        ]
        }
        ]
        };

        var stackedOptions = {
            animation: false,
            isFixedWidth:true,
            barWidth:50,
            scales: {
                xAxes:[{
                    stacked:true,
                    ticks: {
                        min: 0,
                        callback: function(value, index, values) {
                            if (Math.floor(value) === value) {
                                return value;
                            }
                        }
                    }
                }],
                yAxes:[{
                    stacked:true,
                }]

            },
            display: true

        };


        var ctx = document.getElementById("stacked").getContext("2d");
        new Chart(ctx, {type: 'horizontalBar', data: stackedData, options:stackedOptions});
        //TOUCH GENERAL
        var barData = {
            labels: [
                {% if touch_quantity %}
        {% for touch in touch_quantity %}
        '{{touch.name}}',
        {% endfor%}
        {% endif%}
        ],
        datasets: [
            {
                label: "Cantidad de touch",
                backgroundColor: 'rgba(180,100,255,100)',
                borderColor: "rgba(168,75,255,100)",
                pointBorderColor: "#fff",
                data: [
                    {% if touch_quantity %}
            {% for touch in touch_quantity %}
        '{{touch.quantity}}',
        {% endfor%}
        {% endif%}
        ]
        }
        ]
        };

        var barOptions = {
            animation: false,
            responsive: true,
            isFixedWidth:true,
            scales: {
                xAxes:[{
                    stacked:true,
                    ticks: {
                        min: 0,
                        callback: function(value, index, values) {
                            if (Math.floor(value) === value) {
                                return value;
                            }
                        }
                    }
                }]
            }
        };


        var ctx2 = document.getElementById("horizontalBar").getContext("2d");
        new Chart(ctx2, {type: 'horizontalBar', data: barData, options:barOptions});
        //SESIONES TOTAL GENERAL
        var stacked2Data = {
            labels: [
                {% if sesion_quantity %}
        {% for sesion in sesion_quantity %}
        '{{sesion.name}}',
        {% endfor%}
        {% endif%}
        ],
        datasets: [
            {
                label: "Sesiones totales",
                backgroundColor: 'rgba(82,255,120,100)',
                borderColor: "rgba(46,255,108,100)",
                pointBorderColor: "#fff",
                data: [
                    {% if sesion_quantity %}
            {% for sesion in sesion_quantity %}
        '{{sesion.quantity}}',
        {% endfor%}
        {% endif%}
        ]
        }
        ]
        };

        var stacked2Options = {
            animation: false,
            responsive: true,
            isFixedWidth:true,
            scales: {
                xAxes:[{
                    stacked:true,
                    ticks: {
                        min: 0,
                        callback: function(value, index, values) {
                            if (Math.floor(value) === value) {
                                return value;
                            }
                        }
                    }
                }],
                yAxes:[{
                    stacked2:true,
                }]

            },
            display: true
        };

        var ctx3 = document.getElementById("stacked2").getContext("2d");
        new Chart(ctx3, {type: 'horizontalBar', data: stacked2Data, options:stacked2Options});

        //ACTIVIDADES COMPLETADASVS NO COMPLETADAS CREACION PS
        var CreacionVSData = {
            labels: [
                {% if ingresar_creacion_quantity %}
        {% for ingresar_creacion in ingresar_creacion_quantity %}
        '{{ingresar_creacion.name}}',
        {% endfor%}
        {% endif%}
        ],
        datasets: [
            {
                label: "Cantidad de touch",
                backgroundColor: 'rgba(180,100,255,100)',
                borderColor: "rgba(168,75,255,100)",
                pointBorderColor: "#fff",
                data: [
                    {% if ingresar_creacion_quantity %}
            {% for ingresar_creacion in ingresar_creacion_quantity %}
        '{{ingresar_creacion.quantity}}',
        {% endfor%}
        {% endif%}
        ]
        }
        ]
        };

        var CreacionVSOptions = {
            animation: false,
            responsive: true,
            isFixedWidth:true,
            scales: {
                xAxes:[{
                    stacked:true,
                    ticks: {
                        min: 0,
                        callback: function(value, index, values) {
                            if (Math.floor(value) === value) {
                                return value;
                            }
                        }
                    }
                }]
            }
        };

        if ($('#horizontalCreacionVS').length){
            var ctx4 = document.getElementById("horizontalCreacionVS").getContext("2d");
            new Chart(ctx4, {type: 'horizontalBar', data: CreacionVSData, options:CreacionVSOptions});
        }
        //ELEMNTOS DESPLAZADOS - CREACION - PLSSPACE
        var MoveElementData = {
            labels: [
                {% if move_element_quantity %}
        {% for move_element in move_element_quantity %}
        '{{move_element.name}}',
        {% endfor%}
        {% endif%}
        ],
        datasets: [
            {
                label: "Elementos desplazados",
                backgroundColor: 'rgba(180,100,255,100)',
                borderColor: "rgba(168,75,255,100)",
                pointBorderColor: "#fff",
                data: [
                    {% if move_element_quantity %}
            {% for move_element in move_element_quantity %}
        '{{move_element.quantity}}',
        {% endfor%}
        {% endif%}
        ]
        }
        ]
        };

        var MoveElementOptions = {
            animation: false,
            responsive: true,
            isFixedWidth:true,
            scales: {
                xAxes:[{
                    stacked:true,
                    ticks: {
                        min: 0,
                        callback: function(value, index, values) {
                            if (Math.floor(value) === value) {
                                return value;
                            }
                        }
                    }
                }]
            }
        };

        if ($('#movePS').length){
            var ctx5 = document.getElementById("movePS").getContext("2d");
            new Chart(ctx5, {type: 'horizontalBar', data: MoveElementData, options:MoveElementOptions});
        }

        //Colisiones totales
        var ctx6data = {
            labels: [
                {% if colision_quantity %}
        {% for colision in colision_quantity %}
        '{{colision.name}}',
        {% endfor%}
        {% endif%}
        ],
        datasets: [
            {
                label: "Colisiones totales",
                backgroundColor: 'rgb(207,52,118)',
                borderColor: "rgb(207,52,118)",
                pointBorderColor: "#fff",
                data: [
                    {% if colision_quantity %}
            {% for colision in colision_quantity %}
        '{{colision.quantity}}',
        {% endfor%}
        {% endif%}
        ]
        }
        ]
        };

        var ctx7data = {
            labels: [
                {% if corrects_quantity %}
        {% for corrects in corrects_quantity %}
        '{{corrects.name}}',
        {% endfor%}
        {% endif%}
        ],
        datasets: [
            {
                label: "Correctas totales",
                backgroundColor: 'rgb(81,209,246)',
                borderColor: "rgb(81,209,246)",
                pointBorderColor: "#fff",
                data: [
                    {% if corrects_quantity %}
            {% for corrects in corrects_quantity %}
        '{{corrects.quantity}}',
        {% endfor%}
        {% endif%}
        ]
        }
        ]
        };

        var ctx8data = {
            labels: [
                {% if jumps_quantity %}
        {% for jumps in jumps_quantity %}
        '{{jumps.name}}',
        {% endfor%}
        {% endif%}
        ],
        datasets: [
            {
                label: "Saltos totales",
                backgroundColor: 'rgb(207,52,118)',
                borderColor: "rgb(207,52,118)",
                pointBorderColor: "#fff",
                data: [
                    {% if jumps_quantity %}
            {% for jumps in jumps_quantity %}
        '{{jumps.quantity}}',
        {% endfor%}
        {% endif%}
        ]
        }
        ]
        };
        
        var ctx15data = {
            labels: [
                {% if piezas_quantity %}
        {% for piezas in piezas_quantity %}
        '{{piezas.name}}',
        {% endfor%}
        {% endif%}
        ],
        datasets: [
            {
                label: "Cantidad de correctas",
                backgroundColor: 'rgb(17,246,133)',
                borderColor: "rgb(17,246,133)",
                pointBorderColor: "#fff",
                data: [
                    {% if piezas_quantity %}
            {% for piezas in piezas_quantity %}
        '{{piezas.quantity}}',
        {% endfor%}
        {% endif%}
        ]
        }
        ]
        };

        var ctx17data = {
            labels: [
                {% if animales_quantity %}
        {% for animales in animales_quantity %}
        '{{animales.name}}',
        {% endfor%}
        {% endif%}
        ],
        datasets: [
            {
                label: "Cantidad de preferencia",
                backgroundColor: 'rgb(112,198,245)',
                borderColor: "rgb(112,198,245)",
                pointBorderColor: "#fff",
                data: [
                    {% if animales_quantity %}
            {% for animales in animales_quantity %}
        '{{animales.quantity}}',
        {% endfor%}
        {% endif%}
        ]
        }
        ]
        };



        var ctx16data = {
            labels: [
                {% if malas_quantity %}
        {% for malas in malas_quantity %}
        '{{malas.name}}',
        {% endfor%}
        {% endif%}
        ],
        datasets: [
            {
                label: "Cantidad de incorrectas",
                backgroundColor: 'rgb(207,52,118)',
                borderColor: "rgb(207,52,118)",
                pointBorderColor: "#fff",
                data: [
                    {% if malas_quantity %}
            {% for malas in malas_quantity %}
        '{{malas.quantity}}',
        {% endfor%}
        {% endif%}
        ]
        }
        ]
        };

        var ctx18data = {
            labels: [
                {% if actividades_quantity %}
        {% for actividades in actividades_quantity %}
        '{{actividades.name}}',
        {% endfor%}
        {% endif%}
        ],
        datasets: [
            {
                label: "Cantidad de touch",
                backgroundColor: 'rgb(207,52,118)',
                borderColor: "rgb(207,52,118)",
                pointBorderColor: "#fff",
                data: [
                    {% if actividades_quantity %}
            {% for actividades in actividades_quantity %}
        '{{actividades.quantity}}',
        {% endfor%}
        {% endif%}
        ]
        }
        ]
        };


        if($('#piezas').length){
            var ctx15 = document.getElementById("piezas").getContext("2d");
            new Chart(ctx15, {type: 'horizontalBar', data: ctx15data, options:  barOptions});
        }

        if($('#actividades').length){
            var ctx18 = document.getElementById("actividades").getContext("2d");
            new Chart(ctx18, {type: 'horizontalBar', data: ctx18data, options:  barOptions});
        }
        if($('#animales').length){
            var ctx17 = document.getElementById("animales").getContext("2d");
            new Chart(ctx17, {type: 'horizontalBar', data: ctx17data, options:  barOptions});
        }


        if($('#malas').length){
            var ctx16 = document.getElementById("malas").getContext("2d");
            new Chart(ctx16, {type: 'horizontalBar', data: ctx16data, options:  barOptions});
        }

        if($('#colisions').length){
            var ctx6 = document.getElementById("colisions").getContext("2d");
            new Chart(ctx6, {type: 'horizontalBar', data: ctx6data, options:barOptions});
        }

        if ($('#corrects').length){
            var ctx7 = document.getElementById("corrects").getContext("2d");
            new Chart(ctx7, {type: 'horizontalBar', data: ctx7data, options:barOptions});
        }

        if ($('#jumps').length){
            var ctx8 = document.getElementById("jumps").getContext("2d");
            new Chart(ctx8, {type: 'horizontalBar', data: ctx8data, options:barOptions});
        }
        

        if ($('#prueba2').length){
            var ctx17 = document.getElementById('prueba2');
            var myChart = new Chart(ctx17, {
            type: 'horizontalBar',
            data: {
                labels: 
                [
                    {% if piezas_quantity %}
                        {% for piezas in piezas_quantity %}
                            '{{piezas.name}}',
                        {% endfor%}
                    {% endif%}
                    
                    //,

                    // {% if incorrects_quantity %}
                    //     {% for incorrects in incorrects_quantity %}
                    //         '{{incorrects.name}}',
                    //     {% endfor%}
                    // {% endif%}
                ],
                datasets: 
                [
                    {
                        label: "Correctas",
                        backgroundColor: 'rgb(17,246,133)',
                        borderColor: "rgb(17,246,133)",
                        pointBorderColor: "#fff",
                        data: 
                        [
                            {% if piezas_quantity %}
                                {% for piezas in piezas_quantity %}
                                    '{{piezas.quantity}}',
                                {% endfor%}
                            {% endif%}
                        ]
                    },
                    {
                        label: "Incorrectas",
                        backgroundColor: 'rgb(255,122,122)',
                        borderColor: "rgb(255,122,122)",
                        pointBorderColor: "#fff",
                        data: 
                        [
                            {% if malas_quantity %}
                                {% for malas in malas_quantity %}
                                    '{{malas.quantity}}',
                                {% endfor%}
                            {% endif%}
                        ]
                    }
                ]
            },
            options: {
                scales: {
                    xAxes:[{
                            stacked:false,
                            ticks: {
                                min: 0,
                                callback: function(value, index, values) {
                                    if (Math.floor(value) === value) {
                                        return value;
                                    }
                                }
                            }
                        }],
                yAxes: [{ stacked: false }]
                }
            }
            });
        }

        if ($('#prueba').length){
            var ctx10 = document.getElementById('prueba');
            var myChart = new Chart(ctx10, {
            type: 'horizontalBar',
            data: {
                labels: 
                [
                    {% if corrects_quantity %}
                        {% for corrects in corrects_quantity %}
                            '{{corrects.name}}',
                        {% endfor%}
                    {% endif%}
                    
                    //,

                    // {% if incorrects_quantity %}
                    //     {% for incorrects in incorrects_quantity %}
                    //         '{{incorrects.name}}',
                    //     {% endfor%}
                    // {% endif%}
                ],
                datasets: 
                [
                    {
                        label: "Correctas totales",
                        backgroundColor: 'rgb(87,35,100)',
                        borderColor: "rgb(87,35,100)",
                        pointBorderColor: "#fff",
                        data: 
                        [
                            {% if corrects_quantity %}
                                {% for corrects in corrects_quantity %}
                                    '{{corrects.quantity}}',
                                {% endfor%}
                            {% endif%}
                        ]
                    },
                    {
                        label: "Incorrectas totales",
                        backgroundColor: 'rgb(0,255,255)',
                        borderColor: "rgb(0,255,255)",
                        pointBorderColor: "#fff",
                        data: 
                        [
                            {% if incorrects_quantity %}
                                {% for incorrects in incorrects_quantity %}
                                    '{{incorrects.quantity}}',
                                {% endfor%}
                            {% endif%}
                        ]
                    }
                ]
            },
            options: {
                scales: {
                    xAxes:[{
                            stacked:false,
                            ticks: {
                                min: 0,
                                callback: function(value, index, values) {
                                    if (Math.floor(value) === value) {
                                        return value;
                                    }
                                }
                            }
                        }],
                yAxes: [{ stacked: false }]
                }
            }
            });
        }

        if ($('#analitics').length){
            var ctx11 = document.getElementById('analitics');
            var Chart11 = new Chart(ctx11, {
            type: 'horizontalBar',
            data: {
                labels: 
                [
                    {% if corrects_quantity %}
                        {% for corrects in corrects_quantity %}
                            '{{corrects.name}}',
                        {% endfor%}
                    {% endif%}

                ],
                datasets: 
                [
                    {
                        label: "Correctas Actividad 1",
                        backgroundColor: 'rgb(23,165,137)',
                        borderColor: "rgb(23,165,137)",
                        pointBorderColor: "#fff",
                        data: 
                        [
                            {% if corrects_act1_quantity %}
                                {% for corrects_act1 in corrects_act1_quantity %}
                                    '{{corrects_act1.quantity}}',
                                {% endfor%}
                            {% endif%}
                        ]
                    },
                    {
                        label: "Incorrectas Actividad 1",
                        backgroundColor: 'rgb( 142, 68, 173 )',
                        borderColor: "rgb( 142, 68, 173 )",
                        pointBorderColor: "#fff",
                        data: 
                        [
                            {% if incorrects_act1_quantity %}
                                {% for incorrects_act1 in incorrects_act1_quantity %}
                                    '{{incorrects_act1.quantity}}',
                                {% endfor%}
                            {% endif%}
                        ]
                    },
                    {
                        label: "Correctas Actividad 2",
                        backgroundColor: 'rgb(245, 176, 65)',
                        borderColor: "rgb(245, 176, 65)",
                        pointBorderColor: "#fff",
                        data: 
                        [
                            {% if corrects_act2_quantity %}
                                {% for corrects_act2 in corrects_act2_quantity %}
                                    '{{corrects_act2.quantity}}',
                                {% endfor%}
                            {% endif%}
                        ]
                    },
                    {
                        label: "Incorrectas Actividad 2",
                        backgroundColor: 'rgb( 93, 173, 226 )',
                        borderColor: "rgb( 93, 173, 226 )",
                        pointBorderColor: "#fff",
                        data: 
                        [
                            {% if incorrects_act2_quantity %}
                                {% for incorrects_act2 in incorrects_act2_quantity %}
                                    '{{incorrects_act2.quantity}}',
                                {% endfor%}
                            {% endif%}
                        ]
                    }
                ]
            },
            options: {
                scales: {
                    xAxes:[{
                            stacked:true,
                            ticks: {
                                min: 0,
                                callback: function(value, index, values) {
                                    if (Math.floor(value) === value) {
                                        return value;
                                    }
                                }
                            }
                        }],
                yAxes: [{ stacked: true }]
                }
            }
            });
        }

    </script>


    <script>
        function setFilterSelectors(params){
            let queryString = location.search;
            let urlParams = new URLSearchParams(queryString);
            let param = null;
            for(let i = 0; i < params.length; i++ ) {
                param = urlParams.get(params[i])
                if(param && param != 0){
                    document.getElementById(params[i] + "-filter-selector").value = param
                }
            }
        }
        setFilterSelectors(['school','course','reim', 'activity', 'start', 'end'])
    </script>

    <!-- <script type="text/javascript">
            setTimeout(function(){
                location = ''
            },10000)
        </script> -->

    <script>

        $(document).ready(function () {

            // Add slimscroll to element
            $('.scroll_content').slimscroll({
                height: '400px'
            })

        });

    </script>
    <script>
        function calculateBarWidth(datasetCount){
            if(options.isFixedWidth){
                return options.barWidth;
            }else{
                var baseWidth = this.calculateBaseWidth() - ((datasetCount - 1) * options.barDatasetSpacing);
                return (baseWidth / datasetCount);
            }}
    </script>
</body>
</html>